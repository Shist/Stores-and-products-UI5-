<mvc:View
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:f="sap.f"
	xmlns:layout="sap.ui.layout"
	controllerName="pavel.zhukouski.controller.StoreDetails">

	<f:DynamicPage showFooter="true" class="sapUiNoContentPadding">
		<f:title>
			<f:DynamicPageTitle>
				<f:heading>
					<Title text="{i18n>storeDetails}"/>
				</f:heading>
				<f:breadcrumbs>
					<Breadcrumbs>
						<Link text="{i18n>storesList}" press="onStoresListLinkClicked"/>
						<Link text="{i18n>storeDetails}" />
					</Breadcrumbs>
				</f:breadcrumbs>
			</f:DynamicPageTitle>
		</f:title>
		<f:header>
			<f:DynamicPageHeader>
				<FlexBox alignItems="Start" justifyContent="SpaceBetween">
					<items>
						<Panel backgroundDesign="Transparent" class="sapUiNoContentPadding">
							<content>
								<layout:HorizontalLayout allowWrapping="true">
									<layout:VerticalLayout class="sapUiMediumMarginEnd">
										<ObjectAttribute title="{i18n>email}" text="{odata>Email}"/>
										<ObjectAttribute title="{i18n>phoneNumber}" text="{odata>PhoneNumber}"/>
										<ObjectAttribute title="{i18n>address}" text="{odata>Address}"/>
									</layout:VerticalLayout>
									<layout:VerticalLayout>
										<ObjectAttribute title="{i18n>establishedDate}" text="{
											path: 'odata>Established',
											type: 'sap.ui.model.type.Date',
											formatOptions: {
												pattern: 'MMM d, yyyy'
											}
										}"/>
										<ObjectAttribute title="{i18n>floorArea}" text="{odata>FloorArea}"/>
									</layout:VerticalLayout>
								</layout:HorizontalLayout>
							</content>
						</Panel>
					</items>
				</FlexBox>
			</f:DynamicPageHeader>
		</f:header>
		<f:content>
			<IconTabBar select="onFilterSelect" selectedKey="{appView>/currStatusFilter}" expandable="false">
				<items>
					<IconTabFilter
						text="{i18n>all}"
						count="{appView>/productsCounts/statusAll/count}"
						key="{appView>/productsCounts/statusAll/serverKey}"
						showAll="true" />
					<IconTabSeparator />
					<IconTabFilter
						text="{i18n>ok}"
						count="{appView>/productsCounts/statusOk/count}"
						key="{appView>/productsCounts/statusOk/serverKey}"
						icon="sap-icon://message-success"
						iconColor="Positive" />
					<IconTabFilter
						text="{i18n>storage}"
						count="{appView>/productsCounts/statusStorage/count}"
						key="{appView>/productsCounts/statusStorage/serverKey}"
						icon="sap-icon://message-warning"
						iconColor="Critical" />
					<IconTabFilter
						text="{i18n>outOfStock}"
						count="{appView>/productsCounts/statusOutOfStock/count}"
						key="{appView>/productsCounts/statusOutOfStock/serverKey}"
						icon="sap-icon://notification"
						iconColor="Negative" />
				</items>
				<content>
					<Table id="productsTable" items="{odata>rel_Products}" sticky="HeaderToolbar">
						<headerToolbar>
							<Toolbar design="Solid">
								<content>
									<Title text="{i18n>products}" class="sapUiSmallMarginBegin"/>
									<ToolbarSpacer/>
									<SearchField placeholder="{i18n>searchTip}" showRefreshButton="true" width="15rem"/>
								</content>
							</Toolbar>
						</headerToolbar>
						<columns>
							<Column>
								<Text text="{i18n>name}" />
							</Column>
							<Column hAlign="End">
								<Text text="{i18n>price}" />
							</Column>
							<Column>
								<Text text="{i18n>specs}" />
							</Column>
							<Column>
								<Text text="{i18n>supplierInfo}" />
							</Column>
							<Column>
								<Text text="{i18n>countryOfOrigin}" />
							</Column>
							<Column>
								<Text text="{i18n>prodCompany}" />
							</Column>
							<Column>
								<Text text="{i18n>rating}" />
							</Column>
							<Column width="80px"></Column>
						</columns>
						<items>
							<ColumnListItem press="" type="Navigation">
								<Text maxLines="2" text="{odata>Name}" />
								<Text maxLines="1" text="{odata>Price}" />
								<Text maxLines="1" text="{odata>Specs}" />
								<Text maxLines="1" text="{odata>SupplierInfo}" />
								<Text maxLines="1" text="{odata>MadeIn}" />
								<Text maxLines="1" text="{odata>ProductionCompanyName}" />
								<RatingIndicator value="{odata>Rating}" />
								<HBox justifyContent="SpaceBetween">
									<Button icon="sap-icon://edit" type="Transparent"></Button>
									<Button icon="sap-icon://sys-cancel" type="Transparent"></Button>
								</HBox>
							</ColumnListItem>
						</items>
					</Table>
				</content>
			</IconTabBar>
		</f:content>
		<f:footer>
			<OverflowToolbar>
				<ToolbarSpacer/>
				<Button icon="sap-icon://add" type="Ghost" text="{i18n>create}"/>
				<Button icon="sap-icon://delete" type="Reject" text="{i18n>delete}"/>
			</OverflowToolbar>
		</f:footer>
	</f:DynamicPage>

</mvc:View>