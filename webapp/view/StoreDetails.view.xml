<mvc:View
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:f="sap.f"
	xmlns:layout="sap.ui.layout"
	xmlns:core="sap.ui.core"
	core:require="{ formatMessage: 'sap/base/strings/formatMessage' }"
	controllerName="pavel.zhukouski.controller.StoreDetails">

	<f:DynamicPage showFooter="true" class="sapUiNoContentPadding">
		<f:title>
			<f:DynamicPageTitle>
				<f:heading>
					<Title text="{i18n>storeDetails}"/>
				</f:heading>
				<f:breadcrumbs>
					<Breadcrumbs>
						<Link text="{i18n>storesList}" press="onStoresListLinkPress"/>
						<Link text="{i18n>storeDetails}" />
					</Breadcrumbs>
				</f:breadcrumbs>
			</f:DynamicPageTitle>
		</f:title>
		<f:header>
			<f:DynamicPageHeader>
				<Panel backgroundDesign="Transparent" class="sapUiNoContentPadding">
					<content>
						<layout:HorizontalLayout allowWrapping="true">
							<layout:VerticalLayout class="sapUiMediumMarginEnd">
								<layout:HorizontalLayout>
									<Label design="Bold" class="sapUiTinyMarginEnd" labelFor="textEmail" text="{
										parts: [
											'i18n>label',
											'i18n>email'
										],
										formatter: 'formatMessage'
									}"/>
									<Text id="textEmail" text="{odata>Email}"/>
								</layout:HorizontalLayout>
								<layout:HorizontalLayout>
									<Label design="Bold" class="sapUiTinyMarginEnd" labelFor="textPhoneNumber" text="{
										parts: [
											'i18n>label',
											'i18n>phoneNumber'
										],
										formatter: 'formatMessage'
									}"/>
									<Text id="textPhoneNumber" text="{odata>PhoneNumber}"/>
								</layout:HorizontalLayout>
								<layout:HorizontalLayout>
									<Label design="Bold" class="sapUiTinyMarginEnd" labelFor="textAddress" text="{
										parts: [
											'i18n>label',
											'i18n>address'
										],
										formatter: 'formatMessage'
									}"/>
									<Text id="textAddress" text="{odata>Address}"/>
								</layout:HorizontalLayout>
							</layout:VerticalLayout>
							<layout:VerticalLayout>
								<layout:HorizontalLayout>
									<Label design="Bold" class="sapUiTinyMarginEnd" labelFor="textEstablished" text="{
										parts: [
											'i18n>label',
											'i18n>establishedDate'
										],
										formatter: 'formatMessage'
									}"/>
									<Text id="textEstablished" text="{
										path: 'odata>Established',
										type: 'sap.ui.model.type.Date',
										formatOptions: {
											pattern: 'MMM d, yyyy'
										}
									}"/>
								</layout:HorizontalLayout>
								<layout:HorizontalLayout>
									<Label design="Bold" class="sapUiTinyMarginEnd" labelFor="textFloorArea" text="{
										parts: [
											'i18n>label',
											'i18n>floorArea'
										],
										formatter: 'formatMessage'
									}"/>
									<Text id="textFloorArea" text="{odata>FloorArea}"/>
								</layout:HorizontalLayout>
							</layout:VerticalLayout>
						</layout:HorizontalLayout>
					</content>
				</Panel>
			</f:DynamicPageHeader>
		</f:header>
		<f:content>
			<IconTabBar
				id="iconTabBar"
				select="onFiltersChanged"
				selectedKey="{appView>/currStatusFilter}"
				expandable="false">
				<items>
					<IconTabFilter
						text="{i18n>all}"
						count="{appView>/productsCounts/statusAll/count}"
						key="{appView>/productsCounts/statusAll/serverKey}"
						showAll="true" />
					<IconTabSeparator />
					<IconTabFilter
						text="{i18n>ok}"
						count="{appView>/productsCounts/statusOk/count}"
						key="{appView>/productsCounts/statusOk/serverKey}"
						icon="sap-icon://message-success"
						iconColor="Positive" />
					<IconTabFilter
						text="{i18n>storage}"
						count="{appView>/productsCounts/statusStorage/count}"
						key="{appView>/productsCounts/statusStorage/serverKey}"
						icon="sap-icon://message-warning"
						iconColor="Critical" />
					<IconTabFilter
						text="{i18n>outOfStock}"
						count="{appView>/productsCounts/statusOutOfStock/count}"
						key="{appView>/productsCounts/statusOutOfStock/serverKey}"
						icon="sap-icon://notification"
						iconColor="Negative" />
				</items>
				<content>
					<Table id="productsTable" items="{odata>rel_Products}" sticky="HeaderToolbar">
						<headerToolbar>
							<Toolbar design="Solid">
								<content>
									<Title text="{i18n>products}" class="sapUiSmallMarginBegin"/>
									<ToolbarSpacer/>
									<SearchField
										id="productsSearch"
										value="{appView>/currProductsSearchFilter}"
										search="onFiltersChanged"
										placeholder="{i18n>searchTip}"
										width="15rem"/>
								</content>
							</Toolbar>
						</headerToolbar>
						<columns>
							<Column>
								<HBox alignItems="Center">
									<Button press="onSortNameBtnPress" type="Transparent" icon="{
										path: 'appView>/columnsSortStates/name/state',
										formatter: '.formatSortBtnIcon'
									}"/>
									<Text text="{i18n>name}" />
								</HBox>
							</Column>
							<Column hAlign="End">
								<HBox alignItems="Center">
									<Button press="onSortPriceBtnPress" type="Transparent" icon="{
										path: 'appView>/columnsSortStates/price/state',
										formatter: '.formatSortBtnIcon'
									}"/>
									<Text text="{i18n>price}" />
								</HBox>
							</Column>
							<Column>
								<HBox alignItems="Center">
									<Button press="onSortSpecsBtnPress" type="Transparent" icon="{
										path: 'appView>/columnsSortStates/specs/state',
										formatter: '.formatSortBtnIcon'
									}"/>
									<Text text="{i18n>specs}" />
								</HBox>
							</Column>
							<Column>
								<HBox alignItems="Center">
									<Button press="onSortSupplierBtnPress" type="Transparent" icon="{
										path: 'appView>/columnsSortStates/supplierInfo/state',
										formatter: '.formatSortBtnIcon'
									}"/>
									<Text text="{i18n>supplierInfo}" />
								</HBox>
							</Column>
							<Column>
								<HBox alignItems="Center">
									<Button press="onSortCountryBtnPress" type="Transparent" icon="{
										path: 'appView>/columnsSortStates/country/state',
										formatter: '.formatSortBtnIcon'
									}"/>
									<Text text="{i18n>countryOfOrigin}" />
								</HBox>
							</Column>
							<Column>
								<HBox alignItems="Center">
									<Button press="onSortProdCompanyBtnPress" type="Transparent" icon="{
										path: 'appView>/columnsSortStates/prodCompany/state',
										formatter: '.formatSortBtnIcon'
									}"/>
									<Text text="{i18n>prodCompany}" />
								</HBox>
							</Column>
							<Column>
								<HBox alignItems="Center">
									<Button press="onSortRatingBtnPress" type="Transparent" icon="{
										path: 'appView>/columnsSortStates/rating/state',
										formatter: '.formatSortBtnIcon'
									}"/>
									<Text text="{i18n>rating}" />
								</HBox>
							</Column>
							<Column width="80px"></Column>
						</columns>
						<items>
							<ColumnListItem press="onProductPress" type="Navigation">
								<Text maxLines="2" text="{odata>Name}" />
								<Text maxLines="1" text="{odata>Price}" />
								<Text maxLines="1" text="{odata>Specs}" />
								<Text maxLines="1" text="{odata>SupplierInfo}" />
								<Text maxLines="1" text="{odata>MadeIn}" />
								<Text maxLines="1" text="{odata>ProductionCompanyName}" />
								<RatingIndicator value="{odata>Rating}" editable="false" />
								<HBox justifyContent="SpaceBetween">
									<Button icon="sap-icon://edit" type="Transparent"/>
									<Button icon="sap-icon://sys-cancel" type="Transparent"/>
								</HBox>
							</ColumnListItem>
						</items>
					</Table>
				</content>
			</IconTabBar>
		</f:content>
		<f:footer>
			<OverflowToolbar>
				<ToolbarSpacer/>
				<Button icon="sap-icon://add" type="Ghost" text="{i18n>create}"/>
				<Button icon="sap-icon://delete" type="Reject" text="{i18n>delete}"/>
			</OverflowToolbar>
		</f:footer>
	</f:DynamicPage>

</mvc:View>